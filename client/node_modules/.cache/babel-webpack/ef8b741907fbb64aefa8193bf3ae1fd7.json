{"ast":null,"code":"import { state } from './../core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../api.service\";\nimport * as i2 from \"ngx-cookie-service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction ShippingComponent_form_3_option_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const state_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(state_r4);\n  }\n}\n\nfunction ShippingComponent_form_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 3);\n    i0.ɵɵlistener(\"ngSubmit\", function ShippingComponent_form_3_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.saveForm();\n    });\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"label\", 5);\n    i0.ɵɵtext(3, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4);\n    i0.ɵɵelementStart(6, \"label\", 7);\n    i0.ɵɵtext(7, \"Phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 9);\n    i0.ɵɵelementStart(10, \"label\", 10);\n    i0.ɵɵtext(11, \"Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 9);\n    i0.ɵɵelementStart(14, \"label\", 12);\n    i0.ɵɵtext(15, \"Address 2\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 4);\n    i0.ɵɵelementStart(18, \"label\", 14);\n    i0.ɵɵtext(19, \"City\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"input\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 16);\n    i0.ɵɵelementStart(22, \"label\", 17);\n    i0.ɵɵtext(23, \"State\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"select\", 18);\n    i0.ɵɵelementStart(25, \"option\", 19);\n    i0.ɵɵtext(26, \"Choose...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(27, ShippingComponent_form_3_option_27_Template, 2, 1, \"option\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 21);\n    i0.ɵɵelementStart(29, \"label\", 22);\n    i0.ɵɵtext(30, \"Pincode\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(31, \"input\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 9);\n    i0.ɵɵelementStart(33, \"button\", 24);\n    i0.ɵɵtext(34, \"Sign in\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.shippingForm);\n    i0.ɵɵadvance(27);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.statelist.list);\n  }\n}\n\nfunction ShippingComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵelementStart(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \" Shipping Address: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ul\");\n    i0.ɵɵelementStart(6, \"li\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"li\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"li\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"li\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"li\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"li\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"a\", 26);\n    i0.ɵɵelementStart(19, \"button\", 27);\n    i0.ɵɵtext(20, \"Now Proceed To Payment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"button\", 28);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Hi,\", ctx_r1.user.username, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.ship.ShippingName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.ship.ShippingAddressLine1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.ship.ShippingAddressLine2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.ship.ShippingAddressState);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.ship.ShippingAddressCity, \" - \", ctx_r1.ship.ShippingAddressPinCode, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.ship.ShippingAddressPhone);\n  }\n}\n\nfunction ShippingComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵelementStart(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"a\", 29);\n    i0.ɵɵelementStart(5, \"button\", 27);\n    i0.ɵɵtext(6, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"button\", 28);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Hi,\", ctx_r2.user.username, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.alert, \" \");\n  }\n}\n\nexport let ShippingComponent = /*#__PURE__*/(() => {\n  class ShippingComponent {\n    constructor(apiService, cookieService, router) {\n      this.apiService = apiService;\n      this.cookieService = cookieService;\n      this.router = router;\n      this.login = false;\n      this.success = false;\n      this.status = '';\n      this.statelist = new state();\n      this.id = '';\n      this.ship = null;\n      this.user = null;\n      this.alert = '';\n      this.shipstatus = false;\n      this.loginstatus = false;\n      this.shippingForm = new FormGroup({\n        ShippingName: new FormControl(''),\n        ShippingAddressLine1: new FormControl(''),\n        ShippingAddressLine2: new FormControl(''),\n        ShippingAddressState: new FormControl(''),\n        ShippingAddressCity: new FormControl(''),\n        ShippingAddressPinCode: new FormControl(''),\n        ShippingAddressPhone: new FormControl(''),\n        ShippingAddressCustomerId: new FormControl('')\n      });\n    }\n\n    ngOnInit() {\n      this.checkLogin();\n      this.checkship();\n    }\n\n    checkLogin() {\n      const u = localStorage.getItem('user');\n\n      if (u) {\n        this.user = JSON.parse(u);\n        this.loginstatus = true;\n      }\n    }\n\n    checkship() {\n      const u = localStorage.getItem('ship');\n\n      if (u) {\n        this.ship = JSON.parse(u);\n        this.shipstatus = true;\n      }\n    }\n\n    saveForm() {\n      if (this.loginstatus) {\n        this.shippingForm.patchValue({\n          ShippingAddressCustomerId: this.user.userid\n        });\n        const a = this.cookieService.get('auth-token');\n        this.apiService.createShippingAddress(this.shippingForm.value).subscribe(result => {\n          this.cookieService.set('shipping-token', result.ShippingAddressId);\n          localStorage.removeItem('ship');\n          localStorage.setItem('ship', JSON.stringify(result));\n          this.checkship();\n        }, error => {\n          console.log(error);\n          this.status = \"You're not loggedin\";\n        });\n      } else {\n        this.alert = \"You're not Logged In\";\n      }\n    }\n\n  }\n\n  ShippingComponent.ɵfac = function ShippingComponent_Factory(t) {\n    return new (t || ShippingComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.CookieService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  ShippingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ShippingComponent,\n    selectors: [[\"app-shipping\"]],\n    decls: 6,\n    vars: 3,\n    consts: [[1, \"container\", \"mx-5\", \"my-5\"], [\"class\", \"row g-3 mx-3\", 3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [\"class\", \"alert alert-primary alert-dismissible fade show mt-4\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"row\", \"g-3\", \"mx-3\", 3, \"formGroup\", \"ngSubmit\"], [1, \"col-md-6\"], [\"for\", \"inputName4\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"inputName4\", \"formControlName\", \"ShippingName\", 1, \"form-control\"], [\"for\", \"inputPhone4\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"inputPhone4\", \"formControlName\", \"ShippingAddressPhone\", 1, \"form-control\"], [1, \"col-12\"], [\"for\", \"inputAddress\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"inputAddress\", \"placeholder\", \"1234 Main St\", \"formControlName\", \"ShippingAddressLine1\", 1, \"form-control\"], [\"for\", \"inputAddress2\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"inputAddress2\", \"placeholder\", \"Apartment, studio, or floor\", \"formControlName\", \"ShippingAddressLine2\", 1, \"form-control\"], [\"for\", \"inputCity\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"inputCity\", \"formControlName\", \"ShippingAddressCity\", 1, \"form-control\"], [1, \"col-md-4\"], [\"for\", \"inputState\", 1, \"form-label\"], [\"id\", \"inputState\", \"formControlName\", \"ShippingAddressState\", 1, \"form-select\"], [\"selected\", \"\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-md-2\"], [\"for\", \"inputZip\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"inputZip\", \"formControlName\", \"ShippingAddressPinCode\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [\"role\", \"alert\", 1, \"alert\", \"alert-primary\", \"alert-dismissible\", \"fade\", \"show\", \"mt-4\"], [\"href\", \"payment/\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\"], [\"type\", \"button\", \"data-bs-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"btn-close\"], [\"href\", \"orderlogin/\"]],\n    template: function ShippingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"h2\");\n        i0.ɵɵtext(2, \"Shipping Information\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, ShippingComponent_form_3_Template, 35, 2, \"form\", 1);\n        i0.ɵɵtemplate(4, ShippingComponent_div_4_Template, 22, 8, \"div\", 2);\n        i0.ɵɵtemplate(5, ShippingComponent_div_5_Template, 8, 2, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", !ctx.ship);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.shipstatus);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.alert);\n      }\n    },\n    directives: [i4.NgIf, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.DefaultValueAccessor, i5.NgControlStatus, i5.FormControlName, i5.SelectControlValueAccessor, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i4.NgForOf],\n    styles: [\"\"]\n  });\n  return ShippingComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}